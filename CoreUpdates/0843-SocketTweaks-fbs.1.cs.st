'From Cuis 3.0 of 18 January 2011 [latest update: #768] on 2 March 2011 at 6:27:06 pm'!!Socket methodsFor: 'sending' stamp: 'fbs 2/18/2011 08:58'!sendSomeData: aStringOrByteArray startIndex: startIndex count: count	^ self sendSomeData: aStringOrByteArray startIndex: startIndex count: count for: 20.! !!Socket methodsFor: 'sending' stamp: 'fbs 2/18/2011 08:58'!sendSomeData: aStringOrByteArray startIndex: startIndex count: count for: aTimeoutInSeconds	"Send up to count bytes of the given data starting at the given index. Answer the number of bytes actually sent."	"Note: This operation may have to be repeated multiple times to send a large amount of data."	| bytesSent |	(self waitForSendDoneFor: aTimeoutInSeconds)		ifTrue: [			bytesSent := self primSocket: socketHandle				sendData: aStringOrByteArray				startIndex: startIndex				count: count]		ifFalse: [ConnectionTimedOut signal: 'send data timeout; data not sent'].	^ bytesSent! !