'From Cuis 1.0 of 28 November 2009 [latest update: #337] on 1 February 2010 at 3:51:02 pm'!!StandardFileStream methodsFor: 'open/close' stamp: 'jmv 2/1/2010 15:23'!open: fileName forWrite: writeMode 	"Open the file with the given name. If writeMode is true, allow writing, otherwise open the file in read-only mode."	"Changed to do a GC and retry before failing ar 3/21/98 17:25"	fileID _ StandardFileStream retryWithGC:[self primOpen: fileName writable: writeMode] 					until:[:id| id notNil] 					forFileNamed: fileName.	fileID ifNil: [^ nil].  "allows sender to detect failure"	name _ fileName.	"jmv: Register after setting name. Name is assumed to be defined for registered objects."	self register.	rwmode _ writeMode.	buffer1 _ String new: 1.	self enableReadBuffering! !