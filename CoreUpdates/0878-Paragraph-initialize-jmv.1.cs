'From Cuis 3.1 of 4 March 2011 [latest update: #850] on 17 March 2011 at 4:02:57 pm'!!Paragraph methodsFor: 'initialization' stamp: 'jmv 3/17/2011 15:16'!initialize	focused _ false.	showCaret _ false.	positionWhenComposed _ 0@0! !!Transcripter methodsFor: 'accessing' stamp: 'jmv 3/17/2011 16:02'!endEntry	| c d cb |	c _ self contents.	Display extent ~= DisplayScreen actualScreenSize ifTrue: [		"Handle case of user resizing physical window"		DisplayScreen startUp.		frame _ frame intersect: Display boundingBox.		^ self clear; show: c].	para		model: (TextModel withText: c asText)		in: ((frame insetBy: 4) withHeight: 9999).	d _ para extent y - frame height.	d > 0 ifTrue: [		"Scroll up to keep all contents visible"		cb _ para characterBlockAtPoint:			para compositionRectangle topLeft + (0@(d+StrikeFont default height)).		self on: (c copyFrom: cb stringIndex to: c size).		readLimit_ position_ collection size.		^ self endEntry].	Display fill: (frame insetBy: -2) fillColor: self black;			fill: frame fillColor: self white.	Display getCanvas		paragraph: para 		bounds: (0@0 extent: Display extent) 		color: Color black! !