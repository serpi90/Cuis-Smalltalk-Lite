'From Cuis 2.7 of 3 September 2010 [latest update: #600] on 3 November 2010 at 11:48:53 am'!!Browser methodsFor: 'class functions' stamp: 'jmv 11/3/2010 11:48'!copyClass	| originalClass originalName copysName |	classListIndex = 0 ifTrue: [^ self].	self okToChange ifFalse: [^ self].	originalClass := self selectedClass.	originalName := originalClass name.	copysName _ self request: 'Please type new class name' initialAnswer: originalName.	copysName = '' ifTrue: [^ self].  " Cancel returns '' "	copysName _ copysName asSymbol.	copysName = originalName ifTrue: [^ self].	(Smalltalk includesKey: copysName)		ifTrue: [^ self error: copysName , ' already exists'].	Cursor wait 		showWhile: [			| newDefinition newMetaDefinition newClass |			newDefinition := originalClass definition				copyReplaceAll: originalName printString				with: copysName printString.			newClass _ Smalltalk actualCompilerClass evaluate: newDefinition logged: true.			newMetaDefinition := originalClass class definition				copyReplaceAll: originalClass class name				with: newClass class name.			Smalltalk actualCompilerClass evaluate: newMetaDefinition logged: true.			newClass copyAllCategoriesFrom: originalClass.			newClass class copyAllCategoriesFrom: originalClass class.			originalClass hasComment ifTrue: [				newClass comment: originalClass comment ] ].	self classListIndex: 0.	self changed: #classList! !