'From Cuis 3.0 of 18 January 2011 [latest update: #768] on 4 March 2011 at 9:42:32 am'!!SystemWindow methodsFor: 'layout' stamp: 'jmv 3/3/2011 22:38'!layoutAndComputeFullBounds	"Compute a new layout of submorphs based on the given layout bounds."	| bl br h thickness tl tr w cornerExtent |	submorphs isEmpty ifTrue: [		^fullBounds _ bounds].	thickness _ 4.	cornerExtent _ 20.	tl _ bounds topLeft.	tr _ bounds topRight.	bl _ bounds bottomLeft.	br _ bounds bottomRight.	w _ bounds width - cornerExtent - cornerExtent.	h _ bounds height - cornerExtent - cornerExtent.	topAdjuster bounds: (tl + (cornerExtent@0) extent: w@thickness).	bottomAdjuster bounds: (bl+ (cornerExtent @ thickness negated) extent: w@thickness).	leftAdjuster bounds: (tl+ (0@cornerExtent) extent: thickness@h).	rightAdjuster bounds: (tr + (thickness negated@ cornerExtent) extent: thickness@h).	topLeftAdjuster bounds: (tl extent: thickness@thickness).	"use thickness so close button is reachable"	self isCollapsed	"use thickness so close button is reachable (if window is collapsed)"		ifFalse: [ bottomLeftAdjuster bounds: (bl-(0@cornerExtent) extent: cornerExtent@cornerExtent) ]		ifTrue: [ bottomLeftAdjuster bounds: (bl-(0@thickness) extent: thickness@thickness) ].	topRightAdjuster bounds: (tr+(cornerExtent negated@0) extent: cornerExtent@cornerExtent).	bottomRightAdjuster bounds: (br-cornerExtent extent: cornerExtent@cornerExtent).	layoutMorph ifNotNil: [		layoutMorph bounds: self layoutBounds ].	fullBounds _ self computeFullBounds! !