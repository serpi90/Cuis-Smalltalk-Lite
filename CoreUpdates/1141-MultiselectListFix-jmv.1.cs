'From Cuis 3.3 of 2 June 2011 [latest update: #1024] on 16 November 2011 at 8:18:33 am'!!PluggableListMorphOfMany methodsFor: 'event handling' stamp: 'jmv 11/16/2011 08:16'!                mouseMove: event 	"The mouse has moved, as characterized by the event provided.  Adjust the scrollbar, and alter the selection as appropriate"	| oldIndex oldVal row |	row _ (event position y < bounds top and: [ scrollBar value > 0.0 ])		ifTrue: [			scrollBar scrollUp: 1.			"Leave at least one visible item unaffected, for better visual feedback to the user."			(self rowAtLocation: bounds topLeft) + 2 ]		ifFalse: [			(event position y > bounds bottom and: [ scrollBar value < 1.0 ])				ifTrue: [					scrollBar scrollDown: 1.					"Leave at least one visible item unaffected, for better visual feedback to the user."					(self rowAtLocation: bounds bottomLeft) - 3 ]				ifFalse: [ self rowAtLocation: event position ]].	row = 0 ifTrue: [ ^ self ].	"No change if model is locked"	(self ownerThatIsA: SystemWindow) ifNotNil: [ :w |		w okToChange ifFalse: [^ self]].	dragOnOrOff ifNil: [		"Was not set at mouse down, which means the mouse must have gone down in an area where there was no list item"		dragOnOrOff _ (self listSelectionAt: row) not ].	"Set meaning for subsequent dragging of selection"	oldIndex _ self getCurrentSelectionIndex.	oldIndex ~= 0 ifTrue: [ oldVal _ self listSelectionAt: oldIndex ].	"Set or clear new primary selection (listIndex)"	dragOnOrOff 		ifTrue: [ self changeModelSelection: row ]		ifFalse: [ self changeModelSelection: 0 ].	"Need to restore the old one, due to how model works, and set new one."	oldIndex ~= 0 ifTrue: [ self listSelectionAt: oldIndex put: oldVal ].		"Select all in between if drag was too fast"	"self listSelectionAt: row put: dragOnOrOff."	(row min: dragStartRow) to: (row max: dragStartRow) do: [ :r |		self listSelectionAt: r put: dragOnOrOff ]! !